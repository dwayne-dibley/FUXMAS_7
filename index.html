<!doctype html>
<html lang="en">
<head>
<meta charset="utf-8" />
<meta name="viewport" content="width=device-width,initial-scale=1">
<title>FUXMAS 7, 2025</title>

<style>
  :root{
    --bg:#0f1115;
    --card:#0f1720;
    --text:#e6eef8;
    --muted:#9fb0c8;
    --accent:#ffca28;
  }
  body{font-family:system-ui,-apple-system,Segoe UI,Roboto,"Helvetica Neue",Arial;background:var(--bg);color:var(--text);margin:0;padding:24px;line-height:1.3}
  h1{font-size:1.6rem;margin:0 0 12px}
  .container{max-width:1100px;margin:0 auto}
  .card{background:linear-gradient(180deg, rgba(255,255,255,0.02), rgba(255,255,255,0.01));padding:18px;border-radius:12px;box-shadow:0 6px 18px rgba(0,0,0,0.6);margin-bottom:18px}
  table.schedule{width:100%;border-collapse:collapse;font-size:0.95rem}
  table.schedule th, table.schedule td{padding:8px 10px;border-bottom:1px dashed rgba(255,255,255,0.03);text-align:left}
  table.schedule th{background:rgba(255,255,255,0.02);font-weight:600;color:var(--muted)}
  a { color: var(--accent); text-decoration: none; }
  a:hover{text-decoration:underline}

  .slideshow{display:flex;gap:18px;align-items:center;flex-wrap:wrap}
  .viewer{flex:1 1 600px;height:420px;background:#081018;border-radius:8px;display:flex;align-items:center;justify-content:center;overflow:hidden;position:relative}
  .viewer img{max-width:100%;max-height:100%;object-fit:contain;display:block}
  .controls{display:flex;flex-direction:column;gap:8px;min-width:220px}
  .btn{padding:10px 12px;border-radius:8px;background:rgba(255,255,255,0.03);color:var(--text);border:1px solid rgba(255,255,255,0.03);cursor:pointer}
  .btn:hover{filter:brightness(1.05)}
  .row{display:flex;gap:8px}
  .meta{font-size:0.9rem;color:var(--muted);margin-top:8px}
</style>
</head>

<body>
<div class="container">

  <!-- Schedule card -->
  <div class="card">
    <h1>FUXMAS 7, 2025</h1>
    <p class="meta">Source doc: <a href="/mnt/data/FUXMAS 7 - 2025.docx" target="_blank">FUXMAS 7 - 2025.docx</a></p>

    <!-- Table reconstructed from DOCX: -->
    <table class="schedule">
<tr><th>TIME</th><th>TIME</th><th>PINT</th><th>LOCATION</th><th>NOTES</th><th>WALKING</th><th>OTHER</th></tr>
<tr><td>11:00</td><td>11:00</td><td>1</td><td><a href="https://www.google.com/maps/place/The+Reveley/">The Reveley</a></td><td>FUXMAS 2</td><td></td><td></td></tr>
<tr><td>11:30</td><td>11:30</td><td></td><td><a href="https://maps.app.goo.gl/PDte6p132LbMhdd2A">Walk</a></td><td></td><td>2 min</td><td></td></tr>
<tr><td>11:30</td><td>11:30</td><td>2</td><td><a href="https://www.google.com/maps/place/The+Island+at+Elizabeth+Quay/">The Island at Elizabeth Quay</a></td><td>FUXMAS 2</td><td></td><td></td></tr>
<tr><td>11:55</td><td></td><td></td><td><a href="https://www.google.com/maps/place/Beer+Corner/">Walk and Blue Cat</a></td><td></td><td>3 min</td><td>3 min</td></tr>
<tr><td>12:00</td><td>3</td><td>3</td><td><a href="https://www.google.com/maps/place/The+Petition/">The Petition</a></td><td>FUXMAS 1, 3 &amp; 6</td><td></td><td></td></tr>
<tr><td>12:30</td><td></td><td></td><td></td><td>Next one? Leave Petition @1300</td><td>3 min<br>1 min</td><td>12 min</td></tr>
<tr><td>12:50</td><td>4</td><td></td><td><a href="https://www.google.com/maps/place/Long+Neck/">Long Neck</a></td><td>FUXMAS 3</td><td></td><td></td></tr>
<tr><td>13:20</td><td></td><td></td><td></td><td>Uber</td><td></td><td>6 min</td></tr>
<tr><td>13:30</td><td>5, 6</td><td></td><td><a href="https://www.google.com/maps/place/Blasta+Gastrobrewery/">Blasta brewing</a></td><td>FUXMAS 2</td><td></td><td></td></tr>
<tr><td>14:45</td><td>7</td><td></td><td><a href="https://www.google.com/maps/place/Rocky+Ridge+Burswood/">Rocky Ridge</a></td><td>NEW</td><td></td><td>Train</td></tr>
<tr><td>15:15</td><td></td><td></td><td></td><td></td><td>6 min<br>3 min</td><td>9 min</td></tr>
<tr><td>15:35</td><td>8</td><td></td><td><a href="https://www.google.com/maps/place/Stories/">Stories Pourhouse</a></td><td>NEW</td><td></td><td>Walk</td></tr>
<tr><td>16:10</td><td></td><td></td><td></td><td></td><td></td><td>3 min</td></tr>
<tr><td>16:15</td><td>9</td><td></td><td><a href="https://www.google.com/maps/place/Ezra+Pound/">Ezra Pound</a></td><td>FUXMAS 6</td><td></td><td>Walk</td></tr>
<tr><td>16:50</td><td></td><td></td><td></td><td></td><td>2 min</td><td></td></tr>
<tr><td>16:55</td><td>10</td><td></td><td><a href="https://www.google.com/maps/place/Glastonburys+Bar+%26+Kitchen/">Glastonbury bar and kitchen</a></td><td>NEW</td><td></td><td>Walk</td></tr>
<tr><td>17:30</td><td></td><td></td><td></td><td></td><td>1 min</td><td></td></tr>
<tr><td>17:30</td><td>11</td><td></td><td><a href="https://www.google.com/maps/place/Edward+and+Ida's/">Edward and Ida’s</a></td><td>FUXMAS 6</td><td></td><td>Walk</td></tr>
<tr><td>18:10</td><td></td><td></td><td></td><td></td><td>5 min</td><td></td></tr>
<tr><td>18:15</td><td>12</td><td></td><td><a href="https://www.google.com/maps/place/Northbridge+Brewing+Company/">Northbridge Brewing Company</a></td><td>FUXMAS 1</td><td></td><td></td></tr>
<tr><td>18:50</td><td>13</td><td></td><td><a href="https://www.google.com/maps/place/Sir+Henry's/">Sir Henry’s</a></td><td>NEW</td><td></td><td>Walk</td></tr>
<tr><td>19:30</td><td></td><td></td><td></td><td></td><td>4 min</td><td></td></tr>
<tr><td>19:35</td><td></td><td></td><td><a href="https://maps.app.goo.gl/iWGqzNUAu2XnYq4ZA">Prestige Kebab House</a></td><td>NOMNOMNOM</td><td></td><td>Walk</td></tr>
<tr><td>19:55</td><td></td><td></td><td></td><td></td><td>3 min</td><td></td></tr>
<tr><td>20:00</td><td>14</td><td></td><td><a href="https://www.google.com/maps/place/Joe's+Juice+Joint/">Joe’s Juice Joint</a></td><td>NEW</td><td></td><td></td></tr>
</table>
  </div>

  <!-- Slideshow card -->
  <div class="card">
    <h2>Slideshow</h2>
    <p class="meta">Images appear automatically from the GitHub repo folder. Updated every 30 seconds.</p>

    <div class="slideshow">
      <div class="viewer">
        <div id="placeholder" style="color:#888">No images loaded yet.</div>
        <img id="slideImg" src="" alt="" style="display:none">
      </div>

      <div class="controls">
        <div class="row">
          <button class="btn" id="prevBtn">⟨ Prev</button>
          <button class="btn" id="playPauseBtn">Pause</button>
          <button class="btn" id="nextBtn">Next ⟩</button>
        </div>

        <div class="row">
          <button class="btn" id="reloadBtn">Reload images</button>
          <button class="btn" onclick="window.open('https://github.com/dwayne-dibley/FUXMAS_7/upload/main/','_blank','noopener')">Upload to GitHub</button>
        </div>

        <div class="meta" id="imageCounter">0 images</div>
      </div>
    </div>
  </div>

</div>

<script>
const CONFIG = {
  owner: "dwayne-dibley",
  repo: "FUXMAS_7",
  path: "" // root folder
};

let images = [];
let current = 0;
let playing = true;
let slideInterval = null;
let reloadInterval = null;

const slideImg = document.getElementById('slideImg');
const placeholder = document.getElementById('placeholder');
const imageCounter = document.getElementById('imageCounter');

async function loadImages() {
  const apiUrl = `https://api.github.com/repos/${CONFIG.owner}/${CONFIG.repo}/contents/${CONFIG.path}`;
  try {
    const resp = await fetch(apiUrl, {cache: "no-store"});
    const data = await resp.json();
    images = data
      .filter(f => f.type === "file" && /\.(png|jpg|jpeg)$/i.test(f.name))
      .map(f => f.download_url);
  } catch (e) {
    console.error(e);
  }
  show(current);
}

function show(index) {
  if (images.length === 0) {
    placeholder.style.display = "block";
    slideImg.style.display = "none";
    imageCounter.textContent = "0 images";
    return;
  }
  current = (index + images.length) % images.length;
  slideImg.src = images[current];
  slideImg.style.display = "block";
  placeholder.style.display = "none";
  imageCounter.textContent = `${current+1} / ${images.length}`;
}

function next() { show(current + 1); }
function prev() { show(current - 1); }

function startSlideShow() {
  slideInterval = setInterval(next, 10000);
}
function stopSlideShow() {
  clearInterval(slideInterval);
}
function togglePlay() {
  playing = !playing;
  document.getElementById('playPauseBtn').textContent = playing ? "Pause" : "Play";
  if (playing) startSlideShow(); else stopSlideShow();
}

document.getElementById('nextBtn').onclick = () => { next(); };
document.getElementById('prevBtn').onclick = () => { prev(); };
document.getElementById('playPauseBtn').onclick = togglePlay;
document.getElementById('reloadBtn').onclick = loadImages;

(async function init(){
  await loadImages();
  startSlideShow();
  reloadInterval = setInterval(loadImages, 30000);
})();
</script>
</body>
</html>
